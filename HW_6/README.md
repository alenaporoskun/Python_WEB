### Завдання

## Основне завдання

Реалізуйте базу даних, схема якої містить:

* Таблиця студентів;
* Таблицю груп;
* Таблицю викладачів;
* Таблицю предметів із вказівкою викладача, який читає предмет;
* Таблицю, де у кожного студента є оцінки з предметів із зазначенням коли оцінку отримано;
  
Заповніть отриману базу даних випадковими даними (~30-50 студентів, 3 групи, 5-8 предметів, 3-5 викладачів, до 20 оцінок у кожного студента з усіх предметів).   
  
Використовуйте пакет Faker для наповнення.  

Зробити такі вибірки з отриманої бази даних:  

1. Знайти 5 студентів із найбільшим середнім балом з усіх предметів.
2. Знайти студента із найвищим середнім балом з певного предмета.
3. Знайти середній бал у групах з певного предмета.
4. Знайти середній бал на потоці (по всій таблиці оцінок).
5. Знайти які курси читає певний викладач.
6. Знайти список студентів у певній групі.
7. Знайти оцінки студентів у окремій групі з певного предмета.
8. Знайти середній бал, який ставить певний викладач зі своїх предметів.
9. Знайти список курсів, які відвідує студент.
10. Список курсів, які певному студенту читає певний викладач.

Для кожного запиту оформити окремий файл query_number.sql, де замість number підставити номер запиту. Файл містить SQL інструкцію, яку можна виконати як у терміналі бази даних, так і через cursor.execute(sql).  

### Додаткове завдання
​
Для додаткового завдання зробіть такі запити підвищеної складності:

Середній бал, який певний викладач ставить певному студентові.
Оцінки студентів у певній групі з певного предмета на останньому занятті.


## Процес створення бази даних і виконання завдання

### Створюємо проект
  
У завданні буде використано стандартну бібліотеку python - sqlite3 та сторонній пакет Faker для генерації випадкових даних.  
   
Створюємо папку з проектом і виконуємо в консолі команду переходу в нього.   
    
Пам'ятаємо, що необхідно створити віртуальне оточення та активувати його (можна використовувати pipenv або poetry на вибір).   
  
```python -m venv venv```  
```cd venv/scripts```  
```.\activate```   

(venv) PS C:\Users\Admin\Downloads\courses\GoIT\Python_for_Data_Science\Python_WEB\Projects\HW_6\venv\Scripts>  
  
### Створюємо скрипт із таблицями БД
Тепер створимо файл study.sql зі скриптами SQL. Він необхідний нам для створення таблиць у БД мовою SQL.
  
### Створюємо таблиці БД
  
Напишемо тепер скрипт ```python/create_db.py``` , де виконаємо підключення до БД та створимо наші таблиці.
  
Після виконання скрипту у вас, в корені проекту, повинен з'явитися файл ```database/study.db```. Поки що він порожній і ми його ще заповнимо фейковими даними трохи згодом.  
  
Зараз за допомогою програми DBeaver виконаємо підключення до БД. Запустіть програму та на панелі інструментів виберіть нове підключення до БД SQLite. Через кнопку 'Знайти...' виберіть створений файл study.db та натисніть кнопку 'Готово'. Все, підключення створено.

Шлях до нашої бази даних, наприклад: ```C:\Users\Admin\Downloads\courses\GoIT\Python_for_Data_Science\Python_WEB\Projects\HW_6\database\study.db```
  
Якщо все було зроблено правильно, зліва на панелі ви повинні побачити наступне.  
Двічі клацніть на 'Таблиці' і праворуч виберіть вкладку 'Діаграма'. Там повинна бути зображена ER-діаграма нашої БД.  
  
![Er діаграма study.db](https://github.com/alenaporoskun/Python_WEB/blob/1faa708ae7367bf65a68491d602ed9ed909c97f6/HW_6/database/db_study.jpg)

### Наповнюємо БД даними

Перейдемо до заповнення даними нашої БД. У файлі ```python/fill_data.py`` ми використовуємо пакет Faker (pip install faker).

### Виконуємо запити до БД

Виконаємо файл ```execute_queries.py``` з папки python.


## Результати

Результати містяться в ```results/output_execute_queries_py.txt```.

5 студентів із найбільшим середнім балом з усіх предметів.:
('Tracy Duncan', 85.125)
('Jennifer Briggs', 85.0)
('Michelle Smith', 84.875)
('Amber Collins', 84.125)
('Tammy Ibarra', 83.25)

Студент із найвищим середнім балом з певного предмета (6, 'public'):
(7, 100.0)

середній бал у групах з певного предмета (6, public):
('Group A', 79.28571428571429)
('Group B', 79.61538461538461)
('Group C', 84.0)

Середній бал на потоці (по всій таблиці оцінок):
(79.275,)

Курси,які читає певний викладач (Jenna Bennett):
('not',)
('run',)

Список студентів у певній групі (1, Group A):
('Wanda Jenkins',)
('Sara Ortiz',)
('Erica Young',)
('Tracy Duncan',)
('Amy Spencer',)
('Steven Meyers',)
('Sherri Williams',)

Оцінки студентів у окремій групі (1, Group A) з певного предмета (6, public):
(85,)
(96,)
(66,)
(81,)
(82,)
(85,)
(60,)

Середній бал, який ставить певний викладач (Jenna Bennett) зі своїх предметів (not, run):
(76.15,)

Список курсів/предметів, які відвідує студент (Wanda Jenkins):
('not',)
('run',)
('lawyer',)
('stop',)
('campaign',)
('public',)
('young',)
('once',)

Список курсів, які певному студенту(Wanda Jenkins) читає певний викладач(Jenna Bennett):
('not',)
('run',)

Середній бал, який певний викладач(Jenna Bennett) ставить певному студентові(Wanda Jenkins):
(68.0,)

Оцінки студентів у певній групі(2, Group B) з певного предмета(public) на останньому занятті:
('Tammy Ibarra', 89)
